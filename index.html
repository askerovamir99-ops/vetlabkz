<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ì–æ—Å–í–µ—Ç–õ–∞–± ‚Äî –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –ë—É–¥—É—â–µ–≥–æ | 24/7</title>
<meta name="description" content="–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–∞—è –∫–ª–∏–Ω–∏–∫–∞ –∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è. –ê–Ω–∞–ª–∏–∑—ã, —Ö–∏—Ä—É—Ä–≥–∏—è, —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä.">
<meta name="theme-color" content="#3b82f6">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
<script src="https://unpkg.com/@phosphor-icons/web"></script>

<style>
/* =========================================
   1. VARIABLES & RESET
   ========================================= */
:root {
    /* Colors */
    --bg-body: #f8fafc;
    --bg-card: #ffffff;
    --bg-glass: rgba(255, 255, 255, 0.9);
    --bg-input: #f1f5f9;
    
    --text-main: #0f172a;
    --text-muted: #64748b;
    --text-light: #94a3b8;

    --primary: #3b82f6;       /* Blue-500 */
    --primary-dark: #1d4ed8;  /* Blue-700 */
    --primary-light: #eff6ff; /* Blue-50 */
    
    --accent: #10b981;        /* Emerald-500 */
    --accent-dark: #047857;
    --accent-glow: rgba(16, 185, 129, 0.4);

    --danger: #ef4444;
    --warning: #f59e0b;

    /* Gradients */
    --grad-primary: linear-gradient(135deg, #3b82f6 0%, #6366f1 100%);
    --grad-accent: linear-gradient(135deg, #10b981 0%, #059669 100%);
    --grad-gold: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    --grad-mesh: radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);

    /* Shadows & Radius */
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1);
    --shadow-neon: 0 0 15px rgba(59, 130, 246, 0.5);

    --radius-sm: 8px;
    --radius-md: 16px;
    --radius-lg: 24px;
    --radius-full: 9999px;

    --border: #e2e8f0;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

body.dark-mode {
    --bg-body: #0b0f19;
    --bg-card: #151e2e;
    --bg-glass: rgba(21, 30, 46, 0.9);
    --bg-input: #1e293b;

    --text-main: #f1f5f9;
    --text-muted: #94a3b8;
    
    --primary: #60a5fa;
    --primary-light: rgba(96, 165, 250, 0.1);
    --border: #334155;
    --shadow-lg: 0 10px 40px -10px rgba(0,0,0,0.5);
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
html { scroll-behavior: smooth; }

body {
    font-family: 'Manrope', sans-serif;
    background: var(--bg-body);
    color: var(--text-main);
    line-height: 1.6;
    overflow-x: hidden;
    transition: background 0.4s ease, color 0.4s ease;
}

h1, h2, h3, h4, h5 { font-family: 'Space Grotesk', sans-serif; line-height: 1.2; }
a { text-decoration: none; color: inherit; transition: var(--transition); }
button { cursor: pointer; border: none; font-family: inherit; background: none; }
img { max-width: 100%; display: block; object-fit: cover; }
ul { list-style: none; }

.container { max-width: 1280px; margin: 0 auto; padding: 0 20px; }

/* =========================================
   2. UI COMPONENTS
   ========================================= */

/* Buttons */
.btn {
    padding: 14px 28px;
    border-radius: 50px;
    font-weight: 700;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: var(--transition);
    font-size: 16px;
}

.btn-primary {
    background: var(--grad-primary);
    color: white;
    box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
}
.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.5);
}

.btn-accent {
    background: var(--grad-accent);
    color: white;
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
}
.btn-accent:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(16, 185, 129, 0.5); }

.btn-outline {
    border: 2px solid var(--border);
    color: var(--text-main);
    background: transparent;
}
.btn-outline:hover {
    border-color: var(--primary);
    color: var(--primary);
    background: var(--bg-card);
}

/* Badges */
.badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.badge-new { background: #dbeafe; color: #1e40af; }
.badge-hot { background: #fee2e2; color: #991b1b; }

/* Section Headers */
.section-header { text-align: center; margin-bottom: 60px; max-width: 800px; margin-left: auto; margin-right: auto; }
.section-title { font-size: 42px; margin-bottom: 15px; background: var(--grad-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.section-desc { font-size: 18px; color: var(--text-muted); }

/* =========================================
   3. HEADER & NAV
   ========================================= */
header { position: sticky; top: 0; z-index: 999; padding-top: 20px; transition: 0.3s; }
header.scrolled { padding-top: 0; }
header.scrolled .nav-glass { border-radius: 0; border-top: none; max-width: 100%; padding: 15px 40px; }

.nav-glass {
    background: var(--bg-glass);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--border);
    border-radius: 100px;
    padding: 15px 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: var(--shadow-md);
    max-width: 1280px;
    margin: 0 auto;
    transition: all 0.4s ease;
}

.logo { font-size: 24px; font-weight: 800; display: flex; align-items: center; gap: 10px; font-family: 'Space Grotesk', sans-serif; }
.logo i { color: var(--primary); font-size: 32px; animation: pulseLogo 3s infinite; }
@keyframes pulseLogo { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

nav { display: flex; gap: 5px; }
nav a {
    font-weight: 600;
    padding: 8px 16px;
    border-radius: 20px;
    color: var(--text-muted);
    font-size: 15px;
    position: relative;
    overflow: hidden;
}
nav a:hover, nav a.active { color: var(--primary); background: var(--primary-light); }

.header-controls { display: flex; align-items: center; gap: 15px; }
.lang-switcher { display: flex; background: var(--bg-input); border-radius: 20px; padding: 4px; }
.lang-opt { padding: 4px 12px; font-size: 13px; font-weight: 700; border-radius: 16px; color: var(--text-muted); transition: 0.3s; }
.lang-opt:hover { color: var(--primary); }
.lang-opt.active { background: var(--bg-card); color: var(--primary); box-shadow: var(--shadow-sm); }

/* =========================================
   4. HERO SECTION
   ========================================= */
.hero { padding: 100px 0 80px; position: relative; overflow: hidden; }
.hero::before {
    content: ''; position: absolute; top: -50%; right: -20%; width: 800px; height: 800px;
    background: radial-gradient(circle, rgba(59,130,246,0.1) 0%, rgba(0,0,0,0) 70%);
    z-index: -1; pointer-events: none;
}
.hero-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 60px; align-items: center; }

.hero-content h1 { font-size: 68px; line-height: 1.05; margin-bottom: 30px; letter-spacing: -2px; }
.hero-content p { font-size: 20px; color: var(--text-muted); margin-bottom: 40px; max-width: 90%; }

.hero-img-wrapper { position: relative; border-radius: 40px; overflow: hidden; box-shadow: var(--shadow-xl); transform: perspective(1000px) rotateY(-5deg); transition: 0.5s; }
.hero-img-wrapper:hover { transform: perspective(1000px) rotateY(0deg); }
.hero-img-wrapper img { width: 100%; height: auto; display: block; }

.stat-float {
    position: absolute; background: var(--bg-card); padding: 15px 25px;
    border-radius: 20px; box-shadow: var(--shadow-lg); border: 1px solid var(--border);
    display: flex; align-items: center; gap: 15px; animation: float 6s ease-in-out infinite;
}
.stat-float.top-right { top: 40px; right: -30px; }
.stat-float.bottom-left { bottom: 40px; left: -30px; animation-delay: 2s; }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

/* =========================================
   5. SCHEDULE & STATUS (NEW)
   ========================================= */
.schedule-bar {
    background: var(--bg-card); border-top: 1px solid var(--border); border-bottom: 1px solid var(--border);
    padding: 20px 0; margin-bottom: 60px;
}
.schedule-flex { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; }
.status-indicator { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 18px; }
.status-dot { width: 12px; height: 12px; border-radius: 50%; background: #ccc; box-shadow: 0 0 0 4px rgba(0,0,0,0.05); }
.status-open .status-dot { background: var(--accent); box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.2); animation: pulseGreen 2s infinite; }
.status-closed .status-dot { background: var(--danger); }
@keyframes pulseGreen { 0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); } 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); } }

.work-hours { display: flex; gap: 30px; color: var(--text-muted); font-size: 14px; }
.work-item { display: flex; flex-direction: column; }
.work-item b { color: var(--text-main); font-size: 16px; }

/* =========================================
   6. SERVICES
   ========================================= */
.prices-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; }
.price-card {
    background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg);
    padding: 30px; transition: var(--transition); position: relative; overflow: hidden;
    display: flex; flex-direction: column;
}
.price-card:hover { transform: translateY(-10px); border-color: var(--primary); box-shadow: var(--shadow-lg); }
.price-icon {
    width: 60px; height: 60px; background: var(--primary-light); color: var(--primary);
    border-radius: 15px; display: flex; align-items: center; justify-content: center;
    font-size: 28px; margin-bottom: 20px; transition: 0.3s;
}
.price-card:hover .price-icon { background: var(--primary); color: white; transform: rotate(10deg); }

/* =========================================
   7. BLOG / TIPS (NEW)
   ========================================= */
.blog-filters { display: flex; justify-content: center; gap: 15px; margin-bottom: 40px; flex-wrap: wrap; }
.filter-btn {
    padding: 8px 20px; border-radius: 30px; border: 1px solid var(--border);
    background: var(--bg-card); color: var(--text-muted); font-weight: 600; transition: 0.3s;
}
.filter-btn:hover, .filter-btn.active { background: var(--text-main); color: var(--bg-body); border-color: var(--text-main); }

.blog-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 40px; }
.blog-card {
    background: var(--bg-card); border-radius: var(--radius-lg); overflow: hidden;
    border: 1px solid var(--border); transition: var(--transition); cursor: pointer;
    display: flex; flex-direction: column;
}
.blog-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); }
.blog-img { height: 200px; width: 100%; object-fit: cover; }
.blog-content { padding: 25px; flex: 1; display: flex; flex-direction: column; }
.blog-tags { display: flex; gap: 10px; margin-bottom: 15px; }
.blog-tag { font-size: 11px; padding: 4px 10px; border-radius: 8px; background: var(--bg-input); font-weight: 700; color: var(--text-muted); }
.blog-title { font-size: 20px; font-weight: 700; margin-bottom: 10px; line-height: 1.4; }
.blog-meta { margin-top: auto; padding-top: 20px; border-top: 1px solid var(--border); display: flex; justify-content: space-between; font-size: 13px; color: var(--text-muted); }

/* =========================================
   8. REVIEWS SLIDER (NEW)
   ========================================= */
.reviews-section { background: var(--text-main); color: white; padding: 80px 0; overflow: hidden; }
.reviews-wrapper { display: flex; transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1); width: 300%; /* For 3 slides */ }
.review-slide { width: 33.333%; padding: 0 20px; display: flex; justify-content: center; }
.review-card {
    background: rgba(255,255,255,0.1); backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.1); padding: 40px; border-radius: 30px;
    max-width: 800px; width: 100%; text-align: center;
}
.stars { color: #fbbf24; font-size: 24px; margin-bottom: 20px; }
.review-text { font-size: 24px; font-weight: 500; line-height: 1.6; margin-bottom: 30px; font-style: italic; }
.reviewer-info { display: flex; align-items: center; justify-content: center; gap: 15px; }
.reviewer-avatar { width: 60px; height: 60px; border-radius: 50%; border: 2px solid var(--primary); }
.review-nav { display: flex; justify-content: center; gap: 15px; margin-top: 40px; }
.nav-dot { width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.3); cursor: pointer; transition: 0.3s; }
.nav-dot.active { background: var(--primary); transform: scale(1.3); }

/* =========================================
   9. INTERACTIVE & MISC
   ========================================= */
.calc-box {
    background: var(--grad-accent); color: white; padding: 60px; border-radius: 40px;
    display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: center;
    box-shadow: 0 20px 40px rgba(16, 185, 129, 0.25); position: relative; overflow: hidden;
}
.calc-box::after { content: 'üßÆ'; position: absolute; right: -20px; bottom: -20px; font-size: 200px; opacity: 0.1; transform: rotate(-15deg); }

/* Chat Bot */
.chat-widget {
    position: fixed; bottom: 30px; right: 30px; z-index: 2000;
    display: flex; flex-direction: column; align-items: flex-end;
}
.chat-btn {
    width: 70px; height: 70px; background: var(--primary); color: white;
    border-radius: 50%; box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
    display: flex; align-items: center; justify-content: center; font-size: 32px;
    cursor: pointer; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.chat-btn:hover { transform: scale(1.1); }
.chat-window {
    width: 380px; height: 500px; background: var(--bg-card); border-radius: 24px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); border: 1px solid var(--border);
    margin-bottom: 20px; display: flex; flex-direction: column; overflow: hidden;
    transform-origin: bottom right; transform: scale(0); opacity: 0; transition: all 0.4s ease;
    pointer-events: none;
}
.chat-window.active { transform: scale(1); opacity: 1; pointer-events: all; }
.chat-header { background: var(--grad-primary); padding: 20px; color: white; display: flex; justify-content: space-between; align-items: center; }
.chat-body { flex: 1; padding: 20px; overflow-y: auto; background: var(--bg-body); display: flex; flex-direction: column; gap: 15px; }
.msg { padding: 12px 18px; border-radius: 18px; font-size: 14px; max-width: 80%; line-height: 1.5; }
.msg.bot { background: white; color: var(--text-main); border-bottom-left-radius: 2px; align-self: flex-start; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.msg.user { background: var(--primary); color: white; border-bottom-right-radius: 2px; align-self: flex-end; }
.chat-footer { padding: 15px; border-top: 1px solid var(--border); display: flex; gap: 10px; background: var(--bg-card); }
.chat-footer input { flex: 1; padding: 12px; border: 1px solid var(--border); border-radius: 50px; background: var(--bg-input); color: var(--text-main); }

/* Loader */
#loader {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: var(--bg-body); z-index: 3000; display: flex; flex-direction: column;
    align-items: center; justify-content: center; transition: opacity 0.5s, visibility 0.5s;
}
.loader-spinner { width: 50px; height: 50px; border: 5px solid var(--border); border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { 100% { transform: rotate(360deg); } }

/* Responsive */
@media(max-width: 900px) {
    .hero-grid { grid-template-columns: 1fr; text-align: center; }
    .hero-img-wrapper { transform: none; order: -1; }
    .schedule-flex { justify-content: center; }
    .nav-glass nav { display: none; }
    .chat-window { width: 90vw; bottom: 90px; right: 5vw; }
}
</style>
</head>
<body>

<div id="loader">
    <div class="loader-spinner"></div>
    <h3 style="margin-top:20px; font-family:'Space Grotesk'">–ì–æ—Å–í–µ—Ç–õ–∞–±</h3>
</div>

<header id="mainHeader">
    <div class="nav-glass">
        <div class="logo">
            <i class="ph-fill ph-paw-print"></i>
            <span>–ì–æ—Å–í–µ—Ç–õ–∞–±</span>
        </div>
        <nav>
            <a href="#services" data-i18n="nav_services">–£—Å–ª—É–≥–∏</a>
            <a href="#schedule" data-i18n="nav_schedule">–ì—Ä–∞—Ñ–∏–∫</a>
            <a href="#blog" data-i18n="nav_blog">–°–æ–≤–µ—Ç—ã</a>
            <a href="#reviews" data-i18n="nav_reviews">–û—Ç–∑—ã–≤—ã</a>
            <a href="#contacts" data-i18n="nav_contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </nav>
        <div class="header-controls">
            <div class="lang-switcher">
                <button class="lang-opt active" onclick="app.setLang('ru')">RU</button>
                <button class="lang-opt" onclick="app.setLang('kz')">KZ</button>
                <button class="lang-opt" onclick="app.setLang('en')">EN</button>
            </div>
            <button onclick="app.toggleTheme()" class="btn btn-outline" style="padding: 10px; border-radius: 50%;">
                <i class="ph-fill ph-moon-stars" style="font-size:20px"></i>
            </button>
            <button onclick="profileSystem.openWindow()" class="btn btn-primary" style="padding: 10px 18px;">
                <i class="ph-fill ph-user-circle" style="font-size:20px"></i>
                <span id="profileNameDisplay" style="margin-left:5px">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </div>
    </div>
</header>

<main>

    <section class="hero container">
        <div class="hero-grid">
            <div class="hero-content">
                <div class="badge badge-new" style="display:inline-block; margin-bottom: 20px;" data-i18n="hero_badge">‚ú® –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ 2026</div>
                <h1 data-i18n="hero_title">–ó–∞–±–æ—Ç–∞ –æ –ø–∏—Ç–æ–º—Ü–µ <br><span style="color:var(--primary)">–Ω–∞ —É—Ä–æ–≤–Ω–µ –Ω–∞—É–∫–∏</span></h1>
                <p data-i18n="hero_desc">–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Å AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π, —è–ø–æ–Ω—Å–∫–∏–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –∏ –ª—é–±–æ–≤—å—é –∫ –∫–∞–∂–¥–æ–º—É —Ö–≤–æ—Å—Ç–∏–∫—É.</p>
                <div style="display:flex; gap:15px; flex-wrap: wrap; justify-content:center; @media(min-width:900px){justify-content:flex-start}">
                    <a href="#contacts" class="btn btn-primary">
                        <i class="ph-bold ph-calendar-check"></i> <span data-i18n="btn_book">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</span>
                    </a>
                    <button class="btn btn-outline" onclick="botSystem.toggle()">
                        <i class="ph-bold ph-robot"></i> <span data-i18n="btn_ai">AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</span>
                    </button>
                </div>
            </div>
            <div class="hero-img-wrapper">
                <img src="https://images.unsplash.com/photo-1623387641168-d9803ddd3f35?q=80&w=1200&auto=format&fit=crop" alt="Vet Dog">
                <div class="stat-float top-right">
                    <i class="ph-fill ph-heartbeat" style="font-size:32px; color:var(--danger)"></i>
                    <div>
                        <strong style="display:block; font-size:18px;">99.8%</strong>
                        <span style="font-size:12px; color:var(--text-muted)">–£—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</span>
                    </div>
                </div>
                <div class="stat-float bottom-left">
                    <i class="ph-fill ph-users" style="font-size:32px; color:var(--primary)"></i>
                    <div>
                        <strong style="display:block; font-size:18px;">15k+</strong>
                        <span style="font-size:12px; color:var(--text-muted)">–°—á–∞—Å—Ç–ª–∏–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="schedule" class="container">
        <div class="schedule-bar">
            <div class="schedule-flex">
                <div class="status-indicator" id="shopStatus">
                    <div class="status-dot"></div>
                    <span id="statusText">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                </div>
                <div class="work-hours">
                    <div class="work-item">
                        <span data-i18n="sched_weekdays">–ü–ù - –ü–¢</span>
                        <b>08:00 - 21:00</b>
                    </div>
                    <div class="work-item">
                        <span data-i18n="sched_weekend">–°–ë - –í–°</span>
                        <b>10:00 - 18:00</b>
                    </div>
                    <div class="work-item">
                        <span data-i18n="sched_emergency" style="color:var(--danger)">–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ</span>
                        <b style="color:var(--danger)">24/7</b>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="container" style="margin-bottom: 100px;">
        <div class="section-header">
            <h2 class="section-title" data-i18n="title_services">–£—Å–ª—É–≥–∏ –∏ –¶–µ–Ω—ã</h2>
            <p class="section-desc" data-i18n="desc_services">–ü—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –¥–æ–ø–ª–∞—Ç.</p>
        </div>
        <div class="prices-grid" id="servicesGrid">
            </div>
    </section>

    <section class="container" style="margin-bottom: 100px;">
        <div class="calc-box">
            <div>
                <h3 style="font-size: 32px; margin-bottom: 20px;" data-i18n="calc_title">–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –ø–∏—Ç–æ–º—Ü—É?</h3>
                <p style="opacity:0.9; margin-bottom: 25px;">–ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Ñ–æ—Ä–º—É–ª—É (2025): 16 √ó ln(age) + 31 –¥–ª—è —Å–æ–±–∞–∫.</p>
                <input type="number" id="ageInput" placeholder="–í–æ–∑—Ä–∞—Å—Ç (–ª–µ—Ç)" style="width:100%; padding:15px; border-radius:15px; border:none; margin-bottom:15px;" oninput="app.calcAge()">
            </div>
            <div style="text-align: center;">
                <div id="humanAgeResult" style="font-size:80px; font-weight:800; line-height:1;">0</div>
                <div style="font-size:20px; opacity:0.8;" data-i18n="calc_res">–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –ª–µ—Ç</div>
            </div>
        </div>
    </section>

    <section id="blog" class="container" style="margin-bottom: 100px;">
        <div class="section-header">
            <h2 class="section-title" data-i18n="title_blog">–ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã</h2>
            <p class="section-desc" data-i18n="desc_blog">–°—Ç–∞—Ç—å–∏ –æ—Ç –Ω–∞—à–∏—Ö –≤–µ–¥—É—â–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.</p>
        </div>
        
        <div class="blog-filters">
            <button class="filter-btn active" onclick="blogSystem.filter('all')">–í—Å–µ</button>
            <button class="filter-btn" onclick="blogSystem.filter('health')">–ó–¥–æ—Ä–æ–≤—å–µ</button>
            <button class="filter-btn" onclick="blogSystem.filter('nutrition')">–ü–∏—Ç–∞–Ω–∏–µ</button>
            <button class="filter-btn" onclick="blogSystem.filter('psy')">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</button>
        </div>

        <div class="blog-grid" id="blogGrid">
            </div>
    </section>

    <section id="reviews" class="reviews-section">
        <div class="container">
            <div class="section-header" style="color:white;">
                <h2 class="section-title" style="background:none; -webkit-text-fill-color:white;" data-i18n="title_reviews">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
            </div>
            
            <div style="overflow:hidden; max-width:800px; margin:0 auto;">
                <div class="reviews-wrapper" id="reviewsWrapper">
                    </div>
            </div>

            <div class="review-nav" id="reviewNav">
                </div>
        </div>
    </section>

    <section id="contacts" class="container" style="margin: 100px auto;">
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:50px; align-items:start;">
            <div style="background:var(--bg-card); padding:40px; border-radius:30px; border:1px solid var(--border);">
                <h3 style="font-size:28px; margin-bottom:20px;" data-i18n="form_title">–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏–µ–º</h3>
                <form onsubmit="event.preventDefault(); alert('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!');">
                    <div style="margin-bottom:15px;">
                        <label style="font-size:12px; font-weight:700; color:var(--text-muted); text-transform:uppercase;">–ò–º—è</label>
                        <input type="text" class="form-control" style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; background:var(--bg-input); color:var(--text-main);" required>
                    </div>
                    <div style="margin-bottom:15px;">
                        <label style="font-size:12px; font-weight:700; color:var(--text-muted); text-transform:uppercase;">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" class="form-control" style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; background:var(--bg-input); color:var(--text-main);" required>
                    </div>
                    <div style="margin-bottom:20px;">
                         <label style="font-size:12px; font-weight:700; color:var(--text-muted); text-transform:uppercase;">–ü–∏—Ç–æ–º–µ—Ü</label>
                         <select style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; background:var(--bg-input); color:var(--text-main);">
                             <option>–°–æ–±–∞–∫–∞</option>
                             <option>–ö–æ—à–∫–∞</option>
                             <option>–ì—Ä—ã–∑—É–Ω</option>
                         </select>
                    </div>
                    <button class="btn btn-primary" style="width:100%;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </form>
            </div>
            
            <div style="height:100%; min-height:400px; border-radius:30px; overflow:hidden; position:relative;">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2906.776077598826!2d76.890!3d43.235!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDPCsDE0JzA2LjAiTiA3NsKwNTMnMjQuMCJF!5e0!3m2!1sen!2skz!4v1600000000000!5m2!1sen!2skz" 
                width="100%" height="100%" style="border:0; filter: grayscale(0.3);" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
    </section>

</main>

<footer style="background:var(--text-main); color:var(--text-muted); padding:60px 0; margin-top:50px;">
    <div class="container" style="text-align:center;">
        <div class="logo" style="justify-content:center; color:white; margin-bottom:20px;">
            <i class="ph-fill ph-paw-print" style="color:var(--primary)"></i> –ì–æ—Å–í–µ—Ç–õ–∞–±
        </div>
        <p>¬© 2026 State Veterinary Laboratory. All rights reserved.</p>
    </div>
</footer>

<div class="chat-widget">
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <div style="display:flex; align-items:center; gap:10px;">
                <i class="ph-fill ph-robot" style="font-size:24px;"></i>
                <div>
                    <div style="font-weight:700;">AI VetBot v3.0</div>
                    <div style="font-size:11px; opacity:0.8;">KZ / RU / EN</div>
                </div>
            </div>
            <button onclick="botSystem.toggle()" style="color:white;"><i class="ph-bold ph-x"></i></button>
        </div>
        <div class="chat-body" id="chatBody">
            </div>
        <div class="chat-footer">
            <input type="text" id="chatInput" placeholder="..." onkeydown="if(event.key==='Enter') botSystem.send()">
            <button onclick="botSystem.send()" class="btn btn-primary" style="width:40px; height:40px; border-radius:50%; padding:0;"><i class="ph-fill ph-paper-plane-right"></i></button>
        </div>
    </div>
    <div class="chat-btn" onclick="botSystem.toggle()">
        <i class="ph-fill ph-chat-teardrop-dots"></i>
    </div>
</div>

<script>
/**
 * APP LOGIC
 * Includes: Translations, Theme, Schedule, Profile (Window), Blog, Reviews, AI Bot
 */

const translations = {
    ru: {
        nav_services: "–£—Å–ª—É–≥–∏", nav_schedule: "–ì—Ä–∞—Ñ–∏–∫", nav_blog: "–°–æ–≤–µ—Ç—ã", nav_reviews: "–û—Ç–∑—ã–≤—ã", nav_contacts: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
        hero_badge: "‚ú® –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ 2026", hero_title: "–ó–∞–±–æ—Ç–∞ –æ –ø–∏—Ç–æ–º—Ü–µ <br><span style='color:var(--primary)'>–Ω–∞ —É—Ä–æ–≤–Ω–µ –Ω–∞—É–∫–∏</span>",
        hero_desc: "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Å AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π, —è–ø–æ–Ω—Å–∫–∏–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –∏ –ª—é–±–æ–≤—å—é –∫ –∫–∞–∂–¥–æ–º—É —Ö–≤–æ—Å—Ç–∏–∫—É.",
        btn_book: "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è", btn_ai: "AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç",
        title_services: "–£—Å–ª—É–≥–∏ –∏ –¶–µ–Ω—ã", desc_services: "–ü—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –¥–æ–ø–ª–∞—Ç.",
        sched_weekdays: "–ü–ù - –ü–¢", sched_weekend: "–°–ë - –í–°", sched_emergency: "–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ",
        status_open: "–°–µ–π—á–∞—Å –æ—Ç–∫—Ä—ã—Ç–æ", status_closed: "–°–µ–π—á–∞—Å –∑–∞–∫—Ä—ã—Ç–æ",
        calc_title: "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –ø–∏—Ç–æ–º—Ü—É?", calc_res: "–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –ª–µ—Ç",
        title_blog: "–ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã", desc_blog: "–°—Ç–∞—Ç—å–∏ –æ—Ç –Ω–∞—à–∏—Ö –≤–µ–¥—É—â–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.",
        title_reviews: "–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤", form_title: "–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏–µ–º"
    },
    kz: {
        nav_services: "“ö—ã–∑–º–µ—Ç—Ç–µ—Ä", nav_schedule: "–ö–µ—Å—Ç–µ", nav_blog: "–ö–µ“£–µ—Å—Ç–µ—Ä", nav_reviews: "–ü—ñ–∫—ñ—Ä–ª–µ—Ä", nav_contacts: "–ë–∞–π–ª–∞–Ω—ã—Å",
        hero_badge: "‚ú® –ò–Ω–Ω–æ–≤–∞—Ü–∏—è–ª–∞—Ä 2026", hero_title: "–ñ–∞–Ω—É–∞—Ä –¥–µ–Ω—Å–∞—É–ª—ã“ì—ã ‚Äî <br><span style='color:var(--primary)'>“í—ã–ª—ã–º –¥–µ“£–≥–µ–π—ñ–Ω–¥–µ</span>",
        hero_desc: "AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞—Å—ã –∂”ô–Ω–µ –∂–∞–ø–æ–Ω–¥—ã“õ –∂–∞–±–¥—ã“õ—Ç–∞—Ä—ã –±–∞—Ä –º–µ–º–ª–µ–∫–µ—Ç—Ç—ñ–∫ –∑–µ—Ä—Ç—Ö–∞–Ω–∞.",
        btn_book: "–ñ–∞–∑—ã–ª—É", btn_ai: "AI –ö–µ“£–µ—Å—à—ñ",
        title_services: "“ö—ã–∑–º–µ—Ç—Ç–µ—Ä –º–µ–Ω –ë–∞“ì–∞–ª–∞—Ä", desc_services: "–ñ–∞—Å—ã—Ä—ã–Ω —Ç”©–ª–µ–º–¥–µ—Ä—Å—ñ–∑ –∞—à—ã“õ –±–∞“ì–∞–ª–∞—Ä.",
        sched_weekdays: "–î“Æ–ô - –ñ“∞–ú", sched_weekend: "–°–ï–ù - –ñ–ï–ö", sched_emergency: "–®“±“ì—ã–ª",
        status_open: "“ö–∞–∑—ñ—Ä –∞—à—ã“õ", status_closed: "“ö–∞–∑—ñ—Ä –∂–∞–±—ã“õ",
        calc_title: "–ñ–∞–Ω—É–∞—Ä –Ω–µ—à–µ –∂–∞—Å—Ç–∞?", calc_res: "–ê–¥–∞–º –∂–∞—Å—ã–º–µ–Ω",
        title_blog: "–ü–∞–π–¥–∞–ª—ã –∫–µ“£–µ—Å—Ç–µ—Ä", desc_blog: "–ë—ñ–∑–¥—ñ“£ –º–∞–º–∞–Ω–¥–∞—Ä–¥—ã“£ –º–∞“õ–∞–ª–∞–ª–∞—Ä—ã.",
        title_reviews: "–ö–ª–∏–µ–Ω—Ç—Ç–µ—Ä –ø—ñ–∫—ñ—Ä–ª–µ—Ä—ñ", form_title: "“ö–∞–±—ã–ª–¥–∞—É“ì–∞ –∂–∞–∑—ã–ª—É"
    },
    en: {
        nav_services: "Services", nav_schedule: "Schedule", nav_blog: "Tips", nav_reviews: "Reviews", nav_contacts: "Contact",
        hero_badge: "‚ú® Innovation 2026", hero_title: "Pet Care at the <br><span style='color:var(--primary)'>Level of Science</span>",
        hero_desc: "State veterinary laboratory with AI diagnostics and Japanese equipment.",
        btn_book: "Book Now", btn_ai: "AI Consultant",
        title_services: "Services & Prices", desc_services: "Transparent pricing without hidden fees.",
        sched_weekdays: "MON - FRI", sched_weekend: "SAT - SUN", sched_emergency: "Emergency",
        status_open: "We are Open", status_closed: "We are Closed",
        calc_title: "How old is the pet?", calc_res: "Human years",
        title_blog: "Useful Tips", desc_blog: "Articles from our leading specialists.",
        title_reviews: "Client Reviews", form_title: "Make Appointment"
    }
};

const servicesDB = [
    { icon: "ph-stethoscope", ru: "–û—Å–º–æ—Ç—Ä", kz: "–¢–µ–∫—Å–µ—Ä—É", en: "Checkup", price: "3 000 ‚Ç∏" },
    { icon: "ph-flask", ru: "–ê–Ω–∞–ª–∏–∑ –ö—Ä–æ–≤–∏", kz: "“ö–∞–Ω —Ç–∞–ª–¥–∞—É—ã", en: "Blood Test", price: "2 500 ‚Ç∏" },
    { icon: "ph-dna", ru: "–ü–¶–† –¢–µ—Å—Ç", kz: "–ü–¢–† –¢–µ—Å—Ç", en: "PCR Test", price: "4 500 ‚Ç∏" },
    { icon: "ph-tooth", ru: "–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥", kz: "–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥", en: "Dentist", price: "8 000 ‚Ç∏" },
    { icon: "ph-syringe", ru: "–í–∞–∫—Ü–∏–Ω–∞—Ü–∏—è", kz: "–í–∞–∫—Ü–∏–Ω–∞", en: "Vaccine", price: "5 000 ‚Ç∏" },
    { icon: "ph-scissors", ru: "–ì—Ä—É–º–∏–Ω–≥", kz: "–ì—Ä—É–º–∏–Ω–≥", en: "Grooming", price: "6 000 ‚Ç∏" }
];

const blogDB = [
    { 
        id: 1, type: "health", 
        title_ru: "–ü–æ—á–µ–º—É –Ω–æ—Å —Å–æ–±–∞–∫–∏ —Å—É—Ö–æ–π?", title_kz: "–ò—Ç—Ç—ñ“£ –º“±—Ä–Ω—ã –Ω–µ–≥–µ “õ“±—Ä“ì–∞“õ?", title_en: "Why is the dog's nose dry?",
        img: "https://images.unsplash.com/photo-1555685812-4b943f1cb0eb?q=80&w=400&auto=format&fit=crop",
        tags: ["Health", "Docs"] 
    },
    { 
        id: 2, type: "nutrition", 
        title_ru: "–û–ø–∞—Å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å–æ —Å—Ç–æ–ª–∞", title_kz: "“Æ—Å—Ç–µ–ª–¥–µ–Ω –±–µ—Ä—É–≥–µ –±–æ–ª–º–∞–π—Ç—ã–Ω —Ç–∞“ì–∞–º–¥–∞—Ä", title_en: "Dangerous foods from table",
        img: "https://images.unsplash.com/photo-1589924691195-41432c84c161?q=80&w=400&auto=format&fit=crop",
        tags: ["Food", "Warning"] 
    },
    { 
        id: 3, type: "psy", 
        title_ru: "–ö–∞–∫ –ø—Ä–∏—É—á–∏—Ç—å –∫ –ª–æ—Ç–∫—É?", title_kz: "–õ–æ—Ç–æ–∫“õ–∞ “õ–∞–ª–∞–π “Ø–π—Ä–µ—Ç—É–≥–µ –±–æ–ª–∞–¥—ã?", title_en: "How to potty train?",
        img: "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=400&auto=format&fit=crop",
        tags: ["Training", "Cats"] 
    }
];

const reviewsDB = [
    { text: "–°–ø–∞—Å–∏–±–æ –∑–∞ —Å–ø–∞—Å–µ–Ω–∏–µ –º–æ–µ–≥–æ –∫–æ—Ç–∞! –í—Ä–∞—á–∏ - –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø—Ä–æ—Ñ–∏.", author: "–ê–ª–∏–Ω–∞ –ú.", lang: "ru", stars: 5 },
    { text: "–ö–ª–∏–Ω–∏–∫–∞ ”©—Ç–µ —Ç–∞–∑–∞, “õ—ã–∑–º–µ—Ç –∫”©—Ä—Å–µ—Ç—É —Å–∞–ø–∞—Å—ã –∂–æ“ì–∞—Ä—ã. –†–∞—Ö–º–µ—Ç!", author: "–ï—Ä–∂–∞–Ω –ö.", lang: "kz", stars: 5 },
    { text: "Best vet clinic in Almaty. English speaking staff helped a lot.", author: "John D.", lang: "en", stars: 5 }
];

/* ================= APP CONTROLLER ================= */
const app = {
    lang: 'ru',

    init() {
        // Preloader
        window.onload = () => {
            const l = document.getElementById('loader');
            l.style.opacity = '0';
            setTimeout(() => l.style.display = 'none', 500);
            this.checkSchedule();
        };

        // Header Scroll
        window.onscroll = () => {
            document.querySelector('header').classList.toggle('scrolled', window.scrollY > 50);
        };

        this.renderServices();
        this.renderBlog();
        this.renderReviews();
        
        // Load Profile Name if exists
        const savedProfile = localStorage.getItem('vetProfile');
        if(savedProfile) {
            const p = JSON.parse(savedProfile);
            if(p.name) document.getElementById('profileNameDisplay').innerText = p.name;
        }

        setInterval(this.checkSchedule, 60000); // Check every minute
    },

    setLang(l) {
        this.lang = l;
        document.querySelectorAll('.lang-opt').forEach(b => b.classList.remove('active'));
        document.querySelectorAll(`.lang-opt[onclick="app.setLang('${l}')"]`).forEach(b => b.classList.add('active'));
        
        // Update static text
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const k = el.getAttribute('data-i18n');
            if(translations[l][k]) el.innerHTML = translations[l][k];
        });

        // Re-render components
        this.renderServices();
        this.renderBlog();
        this.checkSchedule(); // Update schedule text
    },

    toggleTheme() {
        document.body.classList.toggle('dark-mode');
    },

    renderServices() {
        const grid = document.getElementById('servicesGrid');
        grid.innerHTML = servicesDB.map(s => `
            <div class="price-card">
                <div class="price-icon"><i class="ph-fill ${s.icon}"></i></div>
                <h3>${s[this.lang]}</h3>
                <div style="font-size:24px; color:var(--primary); font-weight:800; margin-top:auto; padding-top:15px;">${s.price}</div>
            </div>
        `).join('');
    },

    checkSchedule() {
        const now = new Date();
        const day = now.getDay(); // 0 = Sun, 1 = Mon
        const hour = now.getHours();
        
        const isWeekend = (day === 0 || day === 6);
        const openHour = isWeekend ? 10 : 8;
        const closeHour = isWeekend ? 18 : 21;
        
        const isOpen = hour >= openHour && hour < closeHour;
        const el = document.getElementById('shopStatus');
        const txt = document.getElementById('statusText');
        
        if(isOpen) {
            el.className = 'status-indicator status-open';
            txt.innerText = translations[this.lang].status_open;
        } else {
            el.className = 'status-indicator status-closed';
            txt.innerText = translations[this.lang].status_closed;
        }
    },

    calcAge() {
        const v = parseFloat(document.getElementById('ageInput').value);
        const r = document.getElementById('humanAgeResult');
        if(!v || v<=0) { r.innerText = "0"; return; }
        // Formula 2020 by UC San Diego: 16 * ln(age) + 31
        const res = Math.round(16 * Math.log(v) + 31);
        r.innerText = res > 0 ? res : 0;
    }
};

/* ================= PROFILE SYSTEM (NEW WINDOW) ================= */
const profileSystem = {
    openWindow() {
        // Prepare default data
        const currentData = JSON.parse(localStorage.getItem('vetProfile') || '{"name":"", "breed":"", "weight":""}');
        
        // Open new window
        const win = window.open("", "PetProfile", "width=600,height=800,scrollbars=yes");

        if (!win) {
            alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è!");
            return;
        }

        // HTML Content for the new window
        const htmlContent = `
            <!DOCTYPE html>
            <html>
            <head>
                <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ü—Ä–æ—Ñ–∏–ª—è</title>
                <style>
                    body { font-family: sans-serif; padding: 40px; background: #f0f4f8; color: #333; }
                    .card { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
                    input { width: 100%; padding: 12px; margin: 10px 0 20px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
                    label { font-weight: bold; font-size: 14px; color: #666; }
                    button { background: #3b82f6; color: white; border: none; padding: 15px 30px; border-radius: 50px; cursor: pointer; font-size: 16px; width: 100%; font-weight:bold; }
                    button:hover { background: #2563eb; }
                    h2 { margin-top: 0; }
                </style>
            </head>
            <body>
                <div class="card">
                    <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                    <p>–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —Å–∞–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
                    
                    <label>–ò–º—è –ø–∏—Ç–æ–º—Ü–∞</label>
                    <input type="text" id="pName" value="${currentData.name}" placeholder="–†–µ–∫—Å">
                    
                    <label>–ü–æ—Ä–æ–¥–∞</label>
                    <input type="text" id="pBreed" value="${currentData.breed}" placeholder="–ö–æ—Ä–≥–∏">
                    
                    <label>–í–µ—Å (–∫–≥)</label>
                    <input type="number" id="pWeight" value="${currentData.weight}" placeholder="12">
                    
                    <button onclick="saveData()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
                <script>
                    function saveData() {
                        const data = {
                            name: document.getElementById('pName').value,
                            breed: document.getElementById('pBreed').value,
                            weight: document.getElementById('pWeight').value
                        };
                        // Save to localStorage (shared domain)
                        localStorage.setItem('vetProfile', JSON.stringify(data));
                        
                        // Notify opener
                        if(window.opener && !window.opener.closed) {
                            window.opener.profileSystem.updateFromChild(data);
                        }
                        window.close();
                    }
                <\/script>
            </body>
            </html>
        `;

        win.document.write(htmlContent);
        win.document.close();
    },

    updateFromChild(data) {
        document.getElementById('profileNameDisplay').innerText = data.name || "–ü—Ä–æ—Ñ–∏–ª—å";
        alert(`–ü—Ä–æ—Ñ–∏–ª—å –ø–∏—Ç–æ–º—Ü–∞ ${data.name} –æ–±–Ω–æ–≤–ª–µ–Ω!`);
    }
};

/* ================= BLOG SYSTEM ================= */
const blogSystem = {
    filter(type) {
        const btns = document.querySelectorAll('.filter-btn');
        btns.forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        this.render(type);
    },
    
    render(type = 'all') {
        const grid = document.getElementById('blogGrid');
        const items = type === 'all' ? blogDB : blogDB.filter(i => i.type === type);
        
        grid.innerHTML = items.map(item => `
            <div class="blog-card" onclick="alert('–ß–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å—é: ${item['title_' + app.lang]}')">
                <img src="${item.img}" class="blog-img">
                <div class="blog-content">
                    <div class="blog-tags">
                        ${item.tags.map(t => `<span class="blog-tag">${t}</span>`).join('')}
                    </div>
                    <h4 class="blog-title">${item['title_' + app.lang]}</h4>
                    <div class="blog-meta">
                        <span>–ì–æ—Å–í–µ—Ç–õ–∞–±</span>
                        <span>5 –º–∏–Ω</span>
                    </div>
                </div>
            </div>
        `).join('');
    }
};
// Helper to bridge app scope
app.renderBlog = () => blogSystem.render();

/* ================= REVIEWS SLIDER ================= */
const reviewSystem = {
    current: 0,
    init() {
        this.render();
        setInterval(() => this.next(), 5000);
    },
    render() {
        const wrapper = document.getElementById('reviewsWrapper');
        const dots = document.getElementById('reviewNav');
        
        wrapper.innerHTML = reviewsDB.map(r => `
            <div class="review-slide">
                <div class="review-card">
                    <div class="stars">${'‚òÖ'.repeat(r.stars)}</div>
                    <div class="review-text">"${r.text}"</div>
                    <div class="reviewer-info">
                        <div class="reviewer-avatar" style="background:#eee;"></div>
                        <div style="text-align:left;">
                            <strong>${r.author}</strong>
                            <div style="font-size:12px; opacity:0.7;">Verified Client</div>
                        </div>
                    </div>
                </div>
            </div>
        `).join('');

        dots.innerHTML = reviewsDB.map((_, i) => 
            `<div class="nav-dot ${i === 0 ? 'active' : ''}" onclick="reviewSystem.goto(${i})"></div>`
        ).join('');
    },
    goto(idx) {
        this.current = idx;
        const width = 100 / 3; // 3 items logic in CSS
        document.getElementById('reviewsWrapper').style.transform = `translateX(-${idx * width}%)`;
        
        document.querySelectorAll('.nav-dot').forEach((d, i) => {
            d.classList.toggle('active', i === idx);
        });
    },
    next() {
        this.current = (this.current + 1) % reviewsDB.length;
        this.goto(this.current);
    }
};
app.renderReviews = () => reviewSystem.init();

/* ================= AI BOT (MULTILINGUAL) ================= */
const botSystem = {
    isOpen: false,
    
    toggle() {
        this.isOpen = !this.isOpen;
        const w = document.getElementById('chatWindow');
        w.classList.toggle('active', this.isOpen);
        if(this.isOpen && document.getElementById('chatBody').children.length === 0) {
            this.addMsg("ü§ñ Hello! / –ü—Ä–∏–≤–µ—Ç! / –°”ô–ª–µ–º! <br> I speak 3 languages. Ask me anything!", 'bot');
        }
    },

    addMsg(txt, sender) {
        const body = document.getElementById('chatBody');
        const d = document.createElement('div');
        d.className = `msg ${sender}`;
        d.innerHTML = txt;
        body.appendChild(d);
        body.scrollTop = body.scrollHeight;
    },

    detectLang(text) {
        const ruChars = /[–∞-—è–ê-–Ø—ë–Å]/;
        const kzChars = /[”ô—ñ“£“ì“Ø“±“õ”©“ª”ò–Ü“¢“í“Æ“∞“ö”®“∫]/;
        if (kzChars.test(text)) return 'kz';
        if (ruChars.test(text)) return 'ru';
        return 'en';
    },

    send() {
        const inp = document.getElementById('chatInput');
        const text = inp.value.trim();
        if(!text) return;
        
        this.addMsg(text, 'user');
        inp.value = '';

        // Simulate thinking
        setTimeout(() => {
            const lang = this.detectLang(text);
            const lower = text.toLowerCase();
            let reply = "";

            // LOGIC
            const isPrice = lower.includes('—Ü–µ–Ω') || lower.includes('price') || lower.includes('–±–∞“ì–∞');
            const isAddr = lower.includes('–∞–¥—Ä–µ—Å') || lower.includes('where') || lower.includes('–º–µ–∫–µ–Ω');
            const isTime = lower.includes('–≤—Ä–µ–º—è') || lower.includes('time') || lower.includes('—É–∞“õ—ã—Ç');

            if (lang === 'kz') {
                if (isPrice) reply = "–ë–∞“ì–∞–ª–∞—Ä: “ö–∞–±—ã–ª–¥–∞—É - 3000—Ç–≥, –í–∞–∫—Ü–∏–Ω–∞ - 5000—Ç–≥.";
                else if (isAddr) reply = "–ë—ñ–∑ –ê–±–∞–π –¥–∞“£“ì—ã–ª—ã 150 –º–µ–∫–µ–Ω–∂–∞–π—ã–Ω–¥–∞–º—ã–∑.";
                else if (isTime) reply = "–ë—ñ–∑ –∫“Ø–Ω–¥–µ–ª—ñ–∫—Ç—ñ 08:00-–¥–µ–Ω 21:00-–≥–µ –¥–µ–π—ñ–Ω –∂“±–º—ã—Å —ñ—Å—Ç–µ–π–º—ñ–∑.";
                else reply = "–ö–µ—à—ñ—Ä—ñ“£—ñ–∑, –º–µ–Ω ”ô–ª—ñ “Ø–π—Ä–µ–Ω—É–¥–µ–º—ñ–Ω. –ë–∞“ì–∞ –Ω–µ–º–µ—Å–µ –º–µ–∫–µ–Ω–∂–∞–π —Ç—É—Ä–∞–ª—ã —Å“±—Ä–∞“£—ã–∑.";
            } else if (lang === 'ru') {
                if (isPrice) reply = "–ù–∞—à–∏ —Ü–µ–Ω—ã: –ü—Ä–∏–µ–º - 3000—Ç–≥, –í–∞–∫—Ü–∏–Ω–∞—Ü–∏—è - 5000—Ç–≥.";
                else if (isAddr) reply = "–ú—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –ø–æ –∞–¥—Ä–µ—Å—É: –ø—Ä. –ê–±–∞—è 150.";
                else if (isTime) reply = "–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å 08:00 –¥–æ 21:00 –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.";
                else reply = "–Ø –ø–æ–∫–∞ —É—á—É—Å—å. –°–ø—Ä–æ—Å–∏—Ç–µ –ø—Ä–æ —Ü–µ–Ω—ã, –∞–¥—Ä–µ—Å –∏–ª–∏ –≥—Ä–∞—Ñ–∏–∫.";
            } else {
                if (isPrice) reply = "Our prices: Checkup - 3000 KZT, Vaccine - 5000 KZT.";
                else if (isAddr) reply = "We are located at Abay Ave 150.";
                else if (isTime) reply = "We work daily from 08:00 to 21:00.";
                else reply = "I am still learning. Ask about prices, address or time.";
            }

            this.addMsg(reply, 'bot');
        }, 600);
    }
};

// INITIALIZE
app.init();

</script>
</body>
</html>
